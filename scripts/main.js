"use strict";var meetUp=angular.module("meetUp",["ui.router","ngMessages"]);!function(){meetUp.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("signup",{url:"/signup",templateUrl:"templates/signup.html",controller:"signUpController"}).state("dashboard",{url:"/dashboard",templateUrl:"templates/dashboard.html",controller:"dashboardController"}).state("dashboard.create",{url:"/create",templateUrl:"templates/createEvent.html",controller:"createEventController"}).state("dashboard.edit",{url:"/edit/:id",templateUrl:"templates/editEvent.html",controller:"editEventController",params:{event:null,eventSnapshot:null}})}])}(),meetUp.controller("mainController",["$scope","$state",function(e,t){t.go("signup")}]),function(){meetUp.controller("signUpController",["$scope","$state",function(e,t){function n(){$("#signUp").on("submit",function(){t.go("dashboard")})}function o(){e.additionalInfo?e.additionalInfo=!1:e.additionalInfo=!0}e.submit=n,e.additionalInfo=!1,e.toggleAdditionalInfo=o}])}(),function(){meetUp.controller("dashboardController",["$scope","$state","$http",function(e,t,n){function o(){t.go("dashboard.create")}function a(e){t.go("dashboard.edit",{id:e.id,event:e})}function i(t){$("#alert-modal").modal(),e.event=t}function d(){$("#alert-modal").modal("hide");var t=e.events.indexOf(e.event);e.events.splice(t,1)}e.confirmDelete=d,e.createEvent=o,e.deleteEvent=i,e.editEvent=a,e.events=[],e.event=null,e.$on("newEvent",function(t,n){n.id=e.events.length+1,e.events.push(n)}),e.signup=function(){t.go("signup")}}])}(),function(){meetUp.controller("createEventController",["$scope","$state","$timeout",function(e,t,n){function o(){$("#create-modal").modal("hide"),n(function(){t.go("dashboard")},500)}function a(e){var t=new Date($("#start").val()).getTime(),n=new Date($("#end").val()).getTime(),o=(new Date).getTime();console.log(o),console.log(t),n<t?e.end.$setValidity("endDateBefore",!1):n===t?e.end.$setValidity("endDateSame",!1):t+252e5<o?e.start.$setValidity("startDatePast",!1):(e.end.$setValidity("endDate",!0),e.end.$setValidity("endDateSame",!1),e.start.$setValidity("startDatePast",!0))}function i(){$("#createEventForm").on("submit",function(o,a){e.$emit("newEvent",e.event),$("#create-modal").modal("hide"),n(function(){t.go("dashboard")},500)})}function d(){e.addDescription?e.addDescription=!1:e.addDescription=!0}$("#create-modal").modal(),$("#create-modal").on("shown.bs.modal",function(){setTimeout(function(){$("#eventName").focus()},100)}),e.event={},e.saveEvent=i,e.checkDate=a,e.close=o,e.addDescription=!1,e.toggleAddDescription=d,$("#create-modal").on("hidden.bs.modal",function(e){t.go("dashboard")})}])}(),function(){meetUp.controller("editEventController",["$scope","$state","$timeout",function(e,t,n){function o(){$("#edit-modal").modal("hide"),n(function(){t.go("dashboard")},500)}function a(e){var t=new Date($("#start").val()).getTime(),n=new Date($("#end").val()).getTime(),o=(new Date).getTime();console.log(o),console.log(t),n<t?e.end.$setValidity("endDateBefore",!1):n===t?e.end.$setValidity("endDateSame",!1):t+252e5<o?e.start.$setValidity("startDatePast",!1):(e.end.$setValidity("endDate",!0),e.end.$setValidity("endDateSame",!1),e.start.$setValidity("startDatePast",!0))}function i(){$("#editEventForm").on("submit",function(e,o){$("#edit-modal").modal("hide"),n(function(){t.go("dashboard")},500)})}function d(){e.addDescription?e.addDescription=!1:e.addDescription=!0}$("#edit-modal").modal(),$("#edit-modal").on("shown.bs.modal",function(){setTimeout(function(){$("#eventName").focus()},100)}),e.eventName="",e.event=t.params.event,e.checkDate=a,e.saveEdit=i,e.cancelEdit=o,e.addDescription=!1,e.toggleAddDescription=d,$("#edit-modal").on("hidden.bs.modal",function(e){t.go("dashboard")})}])}();